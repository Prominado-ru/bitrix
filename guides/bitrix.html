<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1С-Битрикс</title>
    <meta name="description" content="Правила оформления кода, принятые в Prominado, рекомендации и просто советы">
    
    
    <link rel="preload" href="/assets/css/0.styles.99d7e448.css" as="style"><link rel="preload" href="/assets/js/app.18c9b072.js" as="script"><link rel="preload" href="/assets/js/2.66a76d05.js" as="script"><link rel="preload" href="/assets/js/10.8add7733.js" as="script"><link rel="prefetch" href="/assets/js/11.f639a09c.js"><link rel="prefetch" href="/assets/js/12.22481fa0.js"><link rel="prefetch" href="/assets/js/13.db4ff902.js"><link rel="prefetch" href="/assets/js/14.c72c744a.js"><link rel="prefetch" href="/assets/js/15.d6c6d0e6.js"><link rel="prefetch" href="/assets/js/16.6aff4bde.js"><link rel="prefetch" href="/assets/js/17.dd064262.js"><link rel="prefetch" href="/assets/js/18.f46a0011.js"><link rel="prefetch" href="/assets/js/19.cc79df66.js"><link rel="prefetch" href="/assets/js/20.144e5cdc.js"><link rel="prefetch" href="/assets/js/21.a9615859.js"><link rel="prefetch" href="/assets/js/22.71704478.js"><link rel="prefetch" href="/assets/js/23.442f8ec8.js"><link rel="prefetch" href="/assets/js/24.ef44effe.js"><link rel="prefetch" href="/assets/js/25.ac16cc97.js"><link rel="prefetch" href="/assets/js/26.435e3fd8.js"><link rel="prefetch" href="/assets/js/27.eecd303e.js"><link rel="prefetch" href="/assets/js/28.8283edac.js"><link rel="prefetch" href="/assets/js/29.7088373c.js"><link rel="prefetch" href="/assets/js/3.0e42c26a.js"><link rel="prefetch" href="/assets/js/30.e4dd14c1.js"><link rel="prefetch" href="/assets/js/31.8d64badf.js"><link rel="prefetch" href="/assets/js/32.77fe67cf.js"><link rel="prefetch" href="/assets/js/4.59116900.js"><link rel="prefetch" href="/assets/js/5.8b275a74.js"><link rel="prefetch" href="/assets/js/6.58bc8b63.js"><link rel="prefetch" href="/assets/js/7.7ac87918.js"><link rel="prefetch" href="/assets/js/8.631d5a64.js"><link rel="prefetch" href="/assets/js/9.71ac1d44.js">
    <link rel="stylesheet" href="/assets/css/0.styles.99d7e448.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://prominado.ru" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Наш сайт
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/prominado-ru/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://prominado.ru" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Наш сайт
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/prominado-ru/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Новичкам</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Стандарт</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/common.html" class="sidebar-link">/guides/common.html</a></li><li><a href="/guides/php.html" class="sidebar-link">PHP</a></li><li><a href="/guides/bitrix.html" class="active sidebar-link">1С-Битрикс</a></li><li><a href="/guides/bitrix24.html" class="sidebar-link">Битрикс24</a></li><li><a href="/guides/frontend.html" class="sidebar-link">HTML и CSS</a></li><li><a href="/guides/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/guides/jquery.html" class="sidebar-link">jQuery</a></li><li><a href="/guides/schema.html" class="sidebar-link">Schema.org</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Backend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>1С-Битрикс</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React Native</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Разное</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1с-битрикс"><a href="#_1с-битрикс" class="header-anchor">#</a> 1С-Битрикс</h1> <h2 id="общие-рекомендации"><a href="#общие-рекомендации" class="header-anchor">#</a> Общие рекомендации</h2> <ul><li>К проекту в PhpStorm подключать библиотеку Битрикса (PhpStorm -&gt; Preferences -&gt; Languages &amp; Frameworks -&gt; PHP) и в Include path добавить папку, скачанную <a href="https://github.com/Prominado-ru/bxApiDocs" target="_blank" rel="noopener noreferrer">отсюда<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Стараться избегать PHP кода на страницах и оборачивать его в самописный компонент (<a href="https://github.com/Prominado-ru/bitrix-component/" target="_blank" rel="noopener noreferrer">пример<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</li> <li><code>init.php</code> – там ничего не пишем. В <code>/local/php_interface/</code> создаем папку <code>src</code>, в которой размещаем классы, подключаемые по стандарту PSR-4 с помощью <code>composer</code>.
<code>composer.json</code></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;prominado/project_name&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;project&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;authors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Prominado&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;info@prominado.ru&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;autoload&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;psr-4&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">&quot;App\\&quot;</span><span class="token operator">:</span> <span class="token string">&quot;local/php_interface/src/&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// local/php_interface/init.php</span>
<span class="token keyword">require_once</span> <span class="token constant">__DIR__</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'/../../vendor/autoload.php'</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// local/php_interface/src/Settings.php</span>
<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Settings</span>
<span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
</span></code></pre></div><ul><li>Скрипты и стили подключаются штатными функциями <code>\Bitrix\Main\Page\Asset::getInstance()-&gt;add(Js/Css)</code>.</li></ul> <h2 id="структура-сайта"><a href="#структура-сайта" class="header-anchor">#</a> Структура сайта</h2> <p>Структура сайта создается <strong>разделами</strong>.
Вместо <code>/about/contacts.php</code> надо создать раздел <code>/about/contacts/</code></p> <h2 id="сnужебная-структура"><a href="#сnужебная-структура" class="header-anchor">#</a> Служебная структура</h2> <ul><li><code>/local/ajax/</code> - Ajax скрипты</li> <li><code>/local/cron/</code> - Cron скрипты</li> <li><code>/local/includes/</code> - Включаемые области</li></ul> <p>В корне проекта <strong>только</strong> проект, <code>bitrix</code>, <code>vendor</code> (если используется Composer), <code>local</code> и <code>upload</code></p> <h2 id="структура-шабnона"><a href="#структура-шабnона" class="header-anchor">#</a> Структура шаблона</h2> <ul><li>В каталоге шаблона остаются только необходимые для Битрикс файлы - <code>header.php</code>, <code>footer.php</code>, <code>styles.css</code> и т.д. Картинки, шрифты, js-библиотеки – выносятся в отдельные папки.</li> <li><code>images</code> - изображения, спрайты, иконки</li> <li><code>fonts</code> - шрифты</li></ul> <p>Часто используемые библиотеки включены в модуль Prominado:Bootstrap.
Вызываются по необходимости:</p> <div class="language-php extra-class"><pre class="language-php"><code>CJSCore<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'fancybox'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'bxslider'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Список предустановленных библиотек:</p> <ul><li><code>fancybox</code> – <a href="https://fancyapps.com/fancybox/3/" target="_blank" rel="noopener noreferrer">fancyBox3<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>bxslider</code> – <a href="https://bxslider.com/" target="_blank" rel="noopener noreferrer">bxSlider<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>bulma</code> – <a href="https://bulma.io/" target="_blank" rel="noopener noreferrer">bulma<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>owl</code> – <a href="https://owlcarousel2.github.io/OwlCarousel2/" target="_blank" rel="noopener noreferrer">Owl Carousel 2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>inputmask</code> – <a href="http://digitalbush.com/projects/masked-input-plugin/" target="_blank" rel="noopener noreferrer">Masked Input Plugin for jQuery<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>styler</code> – <a href="http://dimox.name/jquery-form-styler/" target="_blank" rel="noopener noreferrer">jQuery Form Styler<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>Остальные библиотеки и фреймворки располагаются <code>/local/libs/</code> в каталогах, названия которых совпадают с названием библиотеки, при этом сохраняется внутренняя структура дистрибутива.</p> <p>Пример:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>/local/
├── libs/
│   ├── fancybox/
<span class="token operator">|</span>   <span class="token operator">|</span>   ├── jquery.fancybox.min.js
<span class="token operator">|</span>   <span class="token operator">|</span>   ├── jquery.fancybox.css
│   <span class="token operator">|</span>
│   ├── bxslider/
<span class="token operator">|</span>   <span class="token operator">|</span>   ├── <span class="token punctuation">..</span>
<span class="token operator">|</span>
├── templates/<span class="token operator">&lt;</span>название_шаблона<span class="token operator">&gt;</span>/
│   ├── header.php
│   ├── footer.php
│   ├── styles.css
│   ├── template_styles.css
│
│   ├── components/
<span class="token operator">|</span>   <span class="token operator">|</span>   ├── <span class="token punctuation">..</span>
│
│   ├── images/
<span class="token operator">|</span>   <span class="token operator">|</span>   ├── <span class="token punctuation">..</span>
<span class="token operator">|</span>
├── script.js
<span class="token punctuation">..</span>.
</code></pre></div><h2 id="структура-компонентов"><a href="#структура-компонентов" class="header-anchor">#</a> Структура компонентов</h2> <ul><li>Из комплексного компонента вложенные компоненты выносятся наружу. То есть в шаблоне должно быть так:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>/local/templates/<span class="token operator">&lt;</span>название_шаблона<span class="token operator">&gt;</span>/bitrix/
├── news/
│   ├── <span class="token operator">&lt;</span>название шаблона<span class="token operator">&gt;</span>/
<span class="token operator">|</span>   <span class="token operator">|</span>   ├── news.php
<span class="token operator">|</span>   <span class="token operator">|</span>   ├── detail.php
│
├── news.list/
│   ├── <span class="token operator">&lt;</span>название шаблона<span class="token operator">&gt;</span>/
<span class="token operator">|</span>   <span class="token operator">|</span>   ├── template.php
│
├── news.detail/
│   ├── <span class="token operator">&lt;</span>название шаблона<span class="token operator">&gt;</span>/
<span class="token operator">|</span>   <span class="token operator">|</span>   ├── template.php
<span class="token punctuation">..</span>.
</code></pre></div><h2 id="динамические-данные"><a href="#динамические-данные" class="header-anchor">#</a> Динамические данные</h2> <p>Если на сайте используются динамические данные (например, кнопки &quot;Добавить в избранное / Удалить из избранного&quot; или &quot;Добавить в корзину / В корзине&quot;) - <em>не нужно</em> эту логику прописывать в шаблоне.
Компонент закэшируется и корректно это работать не будет.</p> <p>Для данной задачи лучше использовать JS:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getFavorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> get_favorite <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'[data-js-get-favorite]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>get_favorite<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/local/ajax/favorite.php'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>response <span class="token operator">===</span> <span class="token string">'success'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                $<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>items<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    get_favorite<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.element[data-id='</span> <span class="token operator">+</span> item <span class="token operator">+</span> <span class="token string">'] .element__heart'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="d7"><a href="#d7" class="header-anchor">#</a> D7</h2> <ul><li>Где это возможно, желательно начинать использовать <a href="https://dev.1c-bitrix.ru/api_d7/" target="_blank" rel="noopener noreferrer">D7<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="вспомогатеnьные-кnассы"><a href="#вспомогатеnьные-кnассы" class="header-anchor">#</a> Вспомогательные классы</h2> <p>если встречается много условий, например, для определения будет ли выводиться вторая колонка на странице, то вместо того, чтобы прописывать все условия в <code>header.php | footer.php</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>CSite<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">InDir</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/support/'</span><span class="token punctuation">)</span> <span class="token operator">||</span> CSite<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">InDir</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/some/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>

</span></code></pre></div><p>лучше вынести проверку в отдельный класс и в шаблоне проверять с помощью него:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>App\<span class="token package">Settings<span class="token punctuation">\</span>Page</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">hasTwoColumns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</span></code></pre></div><h2 id="композер"><a href="#композер" class="header-anchor">#</a> Композер</h2> <p>Если к проекту подключается - <a href="https://getcomposer.org" target="_blank" rel="noopener noreferrer">Composer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, то он инициируется в корне проекта, а в <code>init.php</code> прописываем</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">require_once</span> <span class="token constant">__DIR__</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'/../../vendor/autoload.php'</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="версионный-контроnь"><a href="#версионный-контроnь" class="header-anchor">#</a> Версионный контроль</h2> <p>Служебная папка <code>vendor</code> <strong>обязательно</strong> добавляются в <code>.gitignore</code>
При использовании composer в git должны быть <code>composer.lock</code> и <code>composer.json</code></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/prominado-ru/docs/edit/master/docs/guides/bitrix.md" target="_blank" rel="noopener noreferrer">Помогите нам улучшить эту страницу!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Последнее обновление:</span> <span class="time">6/11/2019, 7:28:29 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guides/php.html" class="prev">PHP</a></span> <span class="next"><a href="/guides/bitrix24.html">Битрикс24</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.18c9b072.js" defer></script><script src="/assets/js/2.66a76d05.js" defer></script><script src="/assets/js/10.8add7733.js" defer></script>
  </body>
</html>
