(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{208:function(t,s,a){"use strict";a.r(s);var n=a(28),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"битрикс24"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#битрикс24"}},[t._v("#")]),t._v(" Битрикс24")]),t._v(" "),a("h2",{attrs:{id:"основные-рабочие-директории"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#основные-рабочие-директории"}},[t._v("#")]),t._v(" Основные рабочие директории")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("/inside")]),t._v(" - тут размещаются все кастомные страницы")]),t._v(" "),a("li",[a("code",[t._v("/local/assets")]),t._v(" - директория для размещения кастомных js и css файлов шаблона")]),t._v(" "),a("li",[a("code",[t._v("/local/cron")]),t._v(" - cron скрипты")]),t._v(" "),a("li",[a("code",[t._v("/local/ajax")]),t._v(" - ajax обработчики")]),t._v(" "),a("li",[a("code",[t._v("/local/include")]),t._v(" - включаемые области")]),t._v(" "),a("li",[a("code",[t._v("/local/php_interface/src")]),t._v(" - хранилище библиотек")])]),t._v(" "),a("h2",{attrs:{id:"кастомизация"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#кастомизация"}},[t._v("#")]),t._v(" Кастомизация")]),t._v(" "),a("p",[t._v("Все работа должна происходить в директориях описанных выше. Крайне не желательно изменять файлы внутри "),a("code",[t._v("/bitrix/")]),t._v(" т.к. при обновлении все изменения будут утеряны!")]),t._v(" "),a("p",[a("strong",[t._v("Подготовка")])]),t._v(" "),a("ol",[a("li",[t._v("Создаем рабочие директории из списка выше")]),t._v(" "),a("li",[t._v("Копируем "),a("code",[t._v("/bitrix/php_interface/init.php")]),t._v(" в "),a("code",[t._v("/local/php_interface/init.php")])]),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/guides/bitrix.html"}},[t._v("Подключаем библиотеки по стандарту PSR-4 с помощью composer")])],1)]),t._v(" "),a("p",[a("strong",[t._v("Шаблон")])]),t._v(" "),a("p",[t._v("Для подключения кастомных js и css файлов используется директория /local/assets включим ее содержимое в шаблон.")]),t._v(" "),a("p",[t._v("Создаем новый файл "),a("code",[t._v("/local/php_interface/bx_events.php")]),t._v(" и добавляем  "),a("code",[t._v("include_once('bx_events.php')")]),t._v(" в конец init.php")]),t._v(" "),a("p",[t._v("Добавим в начало файла "),a("code",[t._v("/local/php_interface/bx_events.php")]),t._v(" строки:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddEventHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'main'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'OnProlog'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'OnPrologHandler'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("OnPrologHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include_once")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$_SERVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'DOCUMENT_ROOT'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/local/assets/init.php'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Создадим файл "),a("code",[t._v("/local/assets/init.php")]),t._v(" и добавим в него строки:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("global")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$APPLICATION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Include custom css files")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$APPLICATION")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetAdditionalCSS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/local/assets/css/custom.css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean constant"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Include custom js files")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$APPLICATION")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddHeadScript")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/local/assets/js/custom.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean constant"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),a("p",[t._v("Для кастомизации стандартных компонентов следует использовать JS и CSS, а для добавления своих отдельные страницы или включаемые области.")])])}),[],!1,null,null,null);s.default=e.exports}}]);