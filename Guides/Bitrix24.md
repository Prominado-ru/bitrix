# Prominado Guides: Битрикс24

## Init
1. Не стоит размещать код прямо в init.php, следует сделать в нем один include_once('/bitrix/php_interface/init/initial.php'), в свою очередь внутри initial.php следует подключать файлы с функциями.
2. Следует разделять функции по файлам в зависимоти от их принадлежности к тому или иному разделу сайта, на пример:
|init
|-initial.php 		//Файл со списком подключаемых файлов с функциями
|-config.php 		//Файл с общими настройками (например: константы с инфоблоками или массив с названиями дней недели)
|-functions.php 	//Файл с общими функциями (например: функция транслитерации или функция debug)
|-crm.php 			//Файл с функциями для раздела crm
|-bp.php 			//Файл с функциями для раздела бизнес процессов

## Шаблон
Изменять шаблон bitrix24 стоит только в исключительных и крайних случаях, т.к. при обнолвении все изменеия будут утрачены. Содержимое следует изменять с помощью JS, а добавлять с помощью включаемях областей (в шаблоне их достаточное количество) или так же с помощью JS.
Все кастомные JS, CSS, PHP следует размещать в соответсвующих директориях внутри /bitrix/templates/bitrix24/custom/
|bitrix24
|-_custom
| |-css
| | |-styles.css
| | |...
| |-js
| | |-scripts.js
| | |...
| |-php
| | |-header.php
| | |-footer.php
| | |..
| |...
|-components
|-images
|...
JS и CSS следует подключать через /bitrix/templates/bitrix24/custom/php/header.php (кастомный header.php должен быть предварительно подключен в header.php шаблона).

## Скрипты и страницы
Все кастомные скрипты/страницы должны лежать в директории "portal".
1. Если скрипт/страница дополняет функционал коробочных страниц bitrix24 нужно создавать подобную структуру и в директории portal, на пример: нужно создать страницу дополняющую функционал счетов /crm/invoice/ дополнение нужно создавать в /portal/crm/invoice/, если дополнение, на пример, относится только к странице редактирования /crm/invoice/edit/ следует создать и поддиректорию edit: /portal/crm/invoice/edit/.
2. Если скрипт/страница реализует новый функционал, можно создать произвольную структуру /portal/%anypage%/index.php.

## Обновление
1. Проверить /bitrix/php_interface/init.php на наличие include_once('/bitrix/php_interface/init/initial.php');
2. Проверить /bitrix/templates/bitrix24/header.php на наличие include_once('/bitrix/templates/bitrix24/custom/php/header.php');

## Прочее
Функции используемые в портале плохо описаны в документации по api https://dev.1c-bitrix.ru/api_help/index.php, иногда удобно подсмотреть в rest api https://dev.1c-bitrix.ru/rest_help/ и по схожему названию найти функцию в api через http://bxapi.ru/.